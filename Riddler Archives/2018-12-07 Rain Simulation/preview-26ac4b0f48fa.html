<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="data:text/css;charset=utf-8,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A" rel="stylesheet">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="rain-simulation">2018-12-07 Rain Simulation</h1>
<p>zpb<br />
December 15, 2018</p>
<h1 id="the-riddle">The Riddle</h1>
<p>Louie walks to and from work every day. In his city, there is a 50 percent chance of rain each morning and an independent 40 percent chance each evening. His habit is to bring (and use) an umbrella if itâ€™s raining when he leaves the house or office, but to leave them all behind if not. Louie owns three umbrellas.</p>
<p>On Sunday night, two are with him at home and one is at his office. Assuming it never starts raining during his walk to his home or office, what is the probability that he makes it through the work week without getting wet?</p>
<p><a href="https://53eig.ht/2UoA8iS" class="uri">https://53eig.ht/2UoA8iS</a></p>
<p><a href="https://youtu.be/TDzd73z8thU" class="uri">https://youtu.be/TDzd73z8thU</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">42069420</span>)
<span class="kw">library</span>(tidyverse)</code></pre></div>
<pre><code>## -- Attaching packages ----------------------------------------------------------------------------- tidyverse 1.2.1 --

## v ggplot2 3.1.0     v purrr   0.2.5
## v tibble  1.4.2     v dplyr   0.7.8
## v tidyr   0.8.2     v stringr 1.3.1
## v readr   1.3.0     v forcats 0.3.0

## -- Conflicts -------------------------------------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(scales)</code></pre></div>
<pre><code>## 
## Attaching package: 'scales'

## The following object is masked from 'package:purrr':
## 
##     discard

## The following object is masked from 'package:readr':
## 
##     col_factor</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">theme_set</span>(<span class="kw">theme_light</span>())</code></pre></div>
<h1 id="first-try">First try</h1>
<p>crossing() is similar to expand.grid() in that it makes all combinations of what you ask don't know how to make it call on the previous umb_*_start to start the later columns</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain_morn =</span> <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)),
         <span class="dt">rain_eve =</span> <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>)),
         <span class="dt">umb_home_start =</span> <span class="kw">ifelse</span>(dotw <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">2</span>, <span class="ot">NA</span>),
         <span class="dt">umb_work_start =</span> <span class="kw">ifelse</span>(dotw <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">1</span>, <span class="ot">NA</span>),
         <span class="dt">umb_work_end =</span> <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, umb_work_start,
                               <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, umb_work_start<span class="op">+</span><span class="dv">1</span>,
                                      <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, umb_work_start<span class="op">-</span><span class="dv">1</span>,
                                             <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, umb_work_start,
                                                    <span class="ot">NA</span>)))),
         <span class="dt">umb_home_end =</span> <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, umb_home_start,
                               <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, umb_home_start<span class="op">-</span><span class="dv">1</span>,
                                      <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, umb_home_start<span class="op">+</span><span class="dv">1</span>,
                                             <span class="kw">ifelse</span>(rain_morn <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>rain_eve <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, umb_work_start,
                                                    <span class="ot">NA</span>)))))</code></pre></div>
<pre><code>## # A tibble: 15 x 8
##    trial  dotw rain_morn rain_eve umb_home_start umb_work_start
##    &lt;int&gt; &lt;int&gt;     &lt;int&gt;    &lt;int&gt;          &lt;dbl&gt;          &lt;dbl&gt;
##  1     1     1         1        0              2              1
##  2     1     2         0        1             NA             NA
##  3     1     3         0        1             NA             NA
##  4     1     4         0        1             NA             NA
##  5     1     5         1        1             NA             NA
##  6     2     1         1        1              2              1
##  7     2     2         0        0             NA             NA
##  8     2     3         1        1             NA             NA
##  9     2     4         0        0             NA             NA
## 10     2     5         0        0             NA             NA
## 11     3     1         0        1              2              1
## 12     3     2         1        1             NA             NA
## 13     3     3         1        0             NA             NA
## 14     3     4         1        1             NA             NA
## 15     3     5         0        0             NA             NA
## # ... with 2 more variables: umb_work_end &lt;dbl&gt;, umb_home_end &lt;dbl&gt;</code></pre>
<p>I realized that I ran into an issue where I couldn't break down the umbrella change by each commute this way. I need to add a column that is the commute so I can cumsum() to add changes.</p>
<h1 id="building-table-with-commutes">Building table with commutes</h1>
<p>Arrage is used to make sure it goes in order of each trial, dotw, then Morning and Evening rain = chance of rain for a given morning or evening. 50% morning, 40% evening</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)),
                       <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))))</code></pre></div>
<pre><code>## # A tibble: 50 x 4
##    trial  dotw commute  rain
##    &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt;
##  1     1     1 Morning     1
##  2     1     1 Evening     1
##  3     1     2 Morning     1
##  4     1     2 Evening     1
##  5     1     3 Morning     1
##  6     1     3 Evening     1
##  7     1     4 Morning     0
##  8     1     4 Evening     0
##  9     1     5 Morning     1
## 10     1     5 Evening     1
## # ... with 40 more rows</code></pre>
<h1 id="calculating-change-in-umbrellas-by-commute">Calculating change in umbrellas by commute</h1>
<p>home_delta calculates the change in umbrellas at home for each combination of commute and rain office_delta calculates the change in umbrellas at the office for each combination of commute and rain I really wanted to make office_delta = -home_delta but for some reason that wouldn't work!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)),
                       <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))),
         <span class="dt">home_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>)))),
         <span class="dt">office_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>))))
         )</code></pre></div>
<pre><code>## # A tibble: 50 x 6
##    trial  dotw commute  rain home_delta office_delta
##    &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;       
##  1     1     1 Morning     0 0          0           
##  2     1     1 Evening     0 0          0           
##  3     1     2 Morning     0 0          0           
##  4     1     2 Evening     1 1          -1          
##  5     1     3 Morning     0 0          0           
##  6     1     3 Evening     0 0          0           
##  7     1     4 Morning     1 -1         1           
##  8     1     4 Evening     0 0          0           
##  9     1     5 Morning     0 0          0           
## 10     1     5 Evening     1 1          -1          
## # ... with 40 more rows</code></pre>
<h1 id="counting-umbrellas-at-a-given-commute">Counting umbrellas at a given commute</h1>
<p>Then we group_by(trial) to then add a new column that adds up the number of umbrellas at each location using cumsum(). Home starts with 2 umbrellas and the office starts with 1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)),
                       <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))),
         <span class="dt">home_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>)))),
         <span class="dt">office_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>))))
         ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(trial) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">umb_home =</span> <span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(home_delta),
         <span class="dt">umb_office =</span> <span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(office_delta))</code></pre></div>
<pre><code>## # A tibble: 50 x 8
## # Groups:   trial [5]
##    trial  dotw commute  rain home_delta office_delta umb_home umb_office
##    &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;dbl&gt;      &lt;dbl&gt;
##  1     1     1 Morning     1 -1         1                   1          2
##  2     1     1 Evening     0 0          0                   1          2
##  3     1     2 Morning     0 0          0                   1          2
##  4     1     2 Evening     1 1          -1                  2          1
##  5     1     3 Morning     0 0          0                   2          1
##  6     1     3 Evening     1 1          -1                  3          0
##  7     1     4 Morning     0 0          0                   3          0
##  8     1     4 Evening     0 0          0                   3          0
##  9     1     5 Morning     1 -1         1                   2          1
## 10     1     5 Evening     0 0          0                   2          1
## # ... with 40 more rows</code></pre>
<h1 id="determining-successes">Determining successes</h1>
<p>We then summarize() each group by checking to see if the number of umbrellas at home or the office ever are less than 0. i.e. if Louie ever needed an umbrella, but did not have one available to him.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)),
                       <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))),
         <span class="dt">home_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>)))),
         <span class="dt">office_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>))))
         ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(trial) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">umb_home =</span> <span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(home_delta),
         <span class="dt">umb_office =</span> <span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(office_delta)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">success =</span> <span class="op">!</span><span class="kw">any</span>(umb_home <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span>umb_office <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> ))</code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   trial success
##   &lt;int&gt; &lt;lgl&gt;  
## 1     1 TRUE   
## 2     2 TRUE   
## 3     3 TRUE   
## 4     4 FALSE  
## 5     5 TRUE</code></pre>
<h1 id="counting-successes">Counting successes</h1>
<p>We can then take the mean of success column of that last table to see the % chance of success</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">simulations &lt;-<span class="st"> </span><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="fl">1e6</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.5</span>, <span class="fl">0.5</span>)),
                       <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dt">size =</span> <span class="kw">n</span>(), <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))),
         <span class="dt">home_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>)))),
         <span class="dt">office_delta =</span> <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">+</span><span class="dv">1</span>,
                             <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>,
                                    <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>,
                                           <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">0</span>, <span class="st">&quot;ERROR&quot;</span>))))
         ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(trial) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">umb_home =</span> <span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(home_delta),
         <span class="dt">umb_office =</span> <span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(office_delta))

simulations <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">success =</span> <span class="op">!</span><span class="kw">any</span>(umb_home <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span>umb_office <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> )) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">pct_successes =</span> <span class="kw">mean</span>(success))</code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   pct_successes
##           &lt;dbl&gt;
## 1         0.693</code></pre>
<h1 id="the-day-louie-first-gets-wet">The day Louie first gets wet</h1>
<p>Filters all lines of data for where umb_home or umb_office is less than 0 Finds only the first one for each trial using distinct() counts how many times Louie first gets wet by the day of the week and the commute Changes the day of the week into a readable format using days &lt;- c(&quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;) mutate(dotw = factor(days[dotw], levels = days)) turns dotw from a number to an ordered factor of dotw dotw needs to be ordered 1,2,3,4,5 to match with Mon,Tue,Wed,Thu,Fri to make this work Changes the order of morning and evening in the plot using fct_relevel complete() adds each dotw &amp; commute combination to the count() Graphs out all of the days he first gets wet!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">days &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Mon&quot;</span>, <span class="st">&quot;Tue&quot;</span>, <span class="st">&quot;Wed&quot;</span>, <span class="st">&quot;Thu&quot;</span>, <span class="st">&quot;Fri&quot;</span>)

simulations <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(umb_home <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span>umb_office <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">distinct</span>(trial, <span class="dt">.keep_all =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">count</span>(dotw, commute, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">dotw =</span> <span class="kw">factor</span>(days[dotw], <span class="dt">levels =</span> days),
         <span class="dt">commute =</span> <span class="kw">fct_relevel</span>(commute, <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">complete</span>(dotw, commute) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(dotw, n <span class="op">/</span><span class="st"> </span><span class="fl">1e6</span>, <span class="dt">fill =</span> commute)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> <span class="kw">percent_format</span>()) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;On which day does Louie get wet? (If he does at all)&quot;</span>,
       <span class="dt">y =</span> <span class="st">&quot;Probability Overall&quot;</span>,
       <span class="dt">x =</span> <span class="st">&quot;&quot;</span>)</code></pre></div>
<pre><code>## Warning: Removed 3 rows containing missing values (geom_col).</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<h2 id="david-robinson-technique">David Robinson Technique</h2>
<h1 id="adding-a-row-for-each-commute">Adding a row for each commute</h1>
<p>Using rbinom(n(), 1, ifelse(commute == morn, .5, .4)) This is a clever solution that was used in TT</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">rbinom</span>(<span class="kw">n</span>(), <span class="dv">1</span>, <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="fl">0.5</span>, <span class="fl">0.4</span>)))</code></pre></div>
<pre><code>## # A tibble: 30 x 4
##    trial  dotw commute  rain
##    &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;int&gt;
##  1     1     1 Morning     0
##  2     1     1 Evening     0
##  3     1     2 Morning     0
##  4     1     2 Evening     0
##  5     1     3 Morning     1
##  6     1     3 Evening     1
##  7     1     4 Morning     1
##  8     1     4 Evening     0
##  9     1     5 Morning     0
## 10     1     5 Evening     0
## # ... with 20 more rows</code></pre>
<h1 id="using-case_when-to-determine-umbrella-change">Using case_when to determine umbrella change</h1>
<p>case_when() requires a sequence of 2 sided formulas where the left is the input and the right is the output You separate the input and output with a tilde (~) Put the most general case at the end. Here, TRUE ~ 0 indicates that all other cases result in a 0. For some reason I can set office_delta = -home_delta here. Talk about a cleaner way to do it!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">crossing</span>(<span class="dt">trial =</span> <span class="dv">1</span><span class="op">:</span><span class="fl">1e6</span>,
         <span class="dt">dotw =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,
         <span class="dt">commute =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(trial, dotw, <span class="kw">factor</span>(commute, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Morning&quot;</span>, <span class="st">&quot;Evening&quot;</span>))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">rain =</span> <span class="kw">rbinom</span>(<span class="kw">n</span>(), <span class="dv">1</span>, <span class="kw">ifelse</span>(commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span>, <span class="fl">0.5</span>, <span class="fl">0.4</span>)),
         <span class="dt">home_delta =</span> <span class="kw">case_when</span>(
           commute <span class="op">==</span><span class="st"> &quot;Morning&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> </span><span class="op">-</span><span class="dv">1</span>,
           commute <span class="op">==</span><span class="st"> &quot;Evening&quot;</span> <span class="op">&amp;</span><span class="st"> </span>rain <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,
           <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="dv">0</span>),
         <span class="dt">office_delta =</span> <span class="op">-</span>home_delta) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(trial) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">umb_home =</span> <span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(home_delta),
         <span class="dt">umb_office =</span> <span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">cumsum</span>(office_delta)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">success =</span> <span class="op">!</span><span class="kw">any</span>(umb_home <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">|</span><span class="st"> </span>umb_office <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> )) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">pct_success =</span> <span class="kw">mean</span>(success))</code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   pct_success
##         &lt;dbl&gt;
## 1       0.693</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">knit_exit</span>()</code></pre></div>

</body>
</html>
